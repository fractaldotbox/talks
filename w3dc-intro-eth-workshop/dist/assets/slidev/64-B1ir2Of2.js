import{M as I,N}from"../modules/unplugin-icons-C-w51ylo.js";import{d as D,t as H,aD as P,C as S,ac as V,y as x,aE as W,o as c,b as A,f as q,A as h,c as k,g as M,i as R,h as T,k as m,l as z,m as K,q as O,s as U,e,a6 as f}from"../modules/vue-8M7_bU4y.js";import{v as B,ag as j,C as X,ah as F,ai as G}from"../index-DMRVeEzV.js";import{u as $,f as J}from"./context-BWVZ1-s6.js";import{_ as Q}from"./two-cols.vue_vue_type_script_setup_true_lang-D1IhCm_7.js";import"../modules/shiki-BpHt4X3T.js";const Y=["title"],Z=D({__name:"CodeBlockWrapper",props:{ranges:{type:Array,default:()=>[]},finally:{type:[String,Number],default:"last"},startLine:{type:Number,default:1},lines:{type:Boolean,default:B.lineNumbers},at:{type:[String,Number],default:"+1"},maxHeight:{type:String,default:void 0}},setup(_){const t=_,{$clicksContext:o}=$(),n=H(),d=j();P(()=>{o.unregister(d)}),S(()=>{var s;(s=n.value)==null||s.classList.toggle("slidev-code-line-numbers",t.lines)}),V(()=>{var r;if(!o||!((r=t.ranges)!=null&&r.length))return;const s=o.calculateSince(t.at,t.ranges.length-1);o.register(d,s);const l=x(()=>s?Math.max(0,o.current-s.start+1):X),i=x(()=>t.finally==="last"?t.ranges.at(-1):t.finally.toString());S(()=>{if(!n.value)return;let u=t.ranges[l.value]??i.value;const v=u==="hide";n.value.classList.toggle(F,v),v&&(u=t.ranges[l.value+1]??i.value);const C=n.value.querySelector(".shiki"),b=Array.from(C.querySelectorAll("code > .line")),E=b.length;if(G(u,E,t.startLine,a=>[b[a]]),t.maxHeight){const a=Array.from(C.querySelectorAll(".line.highlighted"));a.reduce((w,L)=>L.offsetHeight+w,0)>n.value.offsetHeight?a[0].scrollIntoView({behavior:"smooth",block:"start"}):a.length>0&&a[Math.round((a.length-1)/2)].scrollIntoView({behavior:"smooth",block:"center"})}})});const{copied:p,copy:y}=W();function g(){var l,i;const s=(i=(l=n.value)==null?void 0:l.querySelector(".slidev-code"))==null?void 0:i.textContent;s&&y(s)}return(s,l)=>{const i=I,r=N;return c(),A("div",{ref_key:"el",ref:n,class:R(["slidev-code-wrapper relative group",{"slidev-code-line-numbers":t.lines}]),style:T({"max-height":t.maxHeight,"overflow-y":t.maxHeight?"scroll":void 0,"--start":t.startLine})},[q(s.$slots,"default"),h(B).codeCopy?(c(),A("button",{key:0,class:"slidev-code-copy absolute top-0 right-0 transition opacity-0 group-hover:opacity-20 hover:!opacity-100",title:h(p)?"Copied":"Copy",onClick:l[0]||(l[0]=u=>g())},[h(p)?(c(),k(i,{key:0,class:"p-2 w-8 h-8"})):(c(),k(r,{key:1,class:"p-2 w-8 h-8"}))],8,Y)):M("v-if",!0)],6)}}}),ee=e("h1",null,"in your browser: window.ethereum",-1),te=e("ul",null,[e("li",null,[e("p",null,[f("On "),e("a",{href:"https://app.uniswap.org/",target:"_blank"},"Uniswap"),f(" with metamask")]),e("ul",null,[e("li",null,'Try in Dev Console "window.ethereum"'),e("li",null,"On incognito?"),e("li",null,"Before & after unlocking metamask?"),e("li",null,"Ledger unplugged?")])]),e("li",null,[e("p",null,[e("a",{href:"https://eips.ethereum.org/EIPS/eip-1193",target:"_blank"},"EIP-1193")])]),e("li",null,[e("p",null,"Metamask injected the window.ethereum provider")]),e("li",null,[e("p",null,[e("a",{href:"https://docs.walletconnect.com/advanced/providers/ethereum",target:"_blank"},"Wallet Connect provider")])])],-1),se=e("ul",null,[e("li",null,"Try running the sample code in the spec, e.g.")],-1),le=e("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[e("code",{class:"language-ts"},[e("span",{class:"line"},[e("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"ethereum")]),f(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"  ."),e("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"request"),e("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"({ "),e("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#998418"}},"method"),e("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},": "),e("span",{style:{"--shiki-dark":"#C98A7D99","--shiki-light":"#B5695999"}},"'"),e("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"eth_accounts"),e("span",{style:{"--shiki-dark":"#C98A7D99","--shiki-light":"#B5695999"}},"'"),e("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," })")])])],-1),ie=e("h2",null,"Connect vs Sign",-1),ne=e("ul",null,[e("li",null,[e("p",null,"Web2: Login button")]),e("li",null,[e("p",null,"Web3:"),e("ul",null,[e("li",null,"Connect: RPC connection. Client shows on-chain wallet"),e("li",null,"Login: (Sign-in With Ethereum) SIWE. Signatures sent to server")])])],-1),pe={__name:"64",setup(_){const{$slidev:t,$nav:o,$clicksContext:n,$clicks:d,$page:p,$renderContext:y,$frontmatter:g}=$();return(s,l)=>{const i=Z;return c(),k(Q,O(U(h(J)(h(g),63))),{right:m(r=>[se,z(i,K({},{ranges:[]}),{default:m(()=>[le]),_:1},16),ie,ne]),default:m(()=>[ee,te]),_:1},16)}}};export{pe as default};
