const __vite__fileDeps=["assets/slidev/CodeRunner-bxMXCgAx.js","assets/modules/unplugin-icons-_TXa6ZQT.js","assets/modules/vue-Cx8IL-A7.js","assets/monaco/bundled-types-CIvZD0aP.js","assets/modules/file-saver-igGfcqei.js","assets/monaco/bundled-types-Bqj8iee4.css","assets/slidev/context-CxqJjZrk.js","assets/index-BQUWC1l-.js","assets/modules/shiki-CYkaywYB.js","assets/modules/shiki-BPvBenZD.css","assets/index-LUMFkV-u.css","assets/slidev/IconButton.vue_vue_type_script_setup_true_lang-DZOtbzwx.js","assets/CodeRunner-YBfxSSx9.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{_ as j,l as F}from"./monaco/bundled-types-CIvZD0aP.js";import{d as J,t as b,y as Z,aF as P,ac as X,n as R,o as T,b as ee,e as x,h as te,c as $,H as O,g as oe,az as ne,k as re,l as Y,m as H,q as ie,s as ae,a6 as k}from"./modules/vue-Cx8IL-A7.js";import{a as se}from"./modules/file-saver-igGfcqei.js";import{a as le,aq as G,ay as Q}from"./index-BQUWC1l-.js";import{u as I,p as ue,f as ce}from"./slidev/context-CxqJjZrk.js";import{I as de}from"./slidev/default-DgHkx_h7.js";import"./modules/shiki-CYkaywYB.js";var U={exports:{}};U.exports;(function(z){var c=function(){var w=String.fromCharCode,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",B={};function L(t,n){if(!B[t]){B[t]={};for(var s=0;s<t.length;s++)B[t][t.charAt(s)]=s}return B[t][n]}var g={compressToBase64:function(t){if(t==null)return"";var n=g._compress(t,6,function(s){return y.charAt(s)});switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(t){return t==null?"":t==""?null:g._decompress(t.length,32,function(n){return L(y,t.charAt(n))})},compressToUTF16:function(t){return t==null?"":g._compress(t,15,function(n){return w(n+32)})+" "},decompressFromUTF16:function(t){return t==null?"":t==""?null:g._decompress(t.length,16384,function(n){return t.charCodeAt(n)-32})},compressToUint8Array:function(t){for(var n=g.compress(t),s=new Uint8Array(n.length*2),r=0,i=n.length;r<i;r++){var d=n.charCodeAt(r);s[r*2]=d>>>8,s[r*2+1]=d%256}return s},decompressFromUint8Array:function(t){if(t==null)return g.decompress(t);for(var n=new Array(t.length/2),s=0,r=n.length;s<r;s++)n[s]=t[s*2]*256+t[s*2+1];var i=[];return n.forEach(function(d){i.push(w(d))}),g.decompress(i.join(""))},compressToEncodedURIComponent:function(t){return t==null?"":g._compress(t,6,function(n){return S.charAt(n)})},decompressFromEncodedURIComponent:function(t){return t==null?"":t==""?null:(t=t.replace(/ /g,"+"),g._decompress(t.length,32,function(n){return L(S,t.charAt(n))}))},compress:function(t){return g._compress(t,16,function(n){return w(n)})},_compress:function(t,n,s){if(t==null)return"";var r,i,d={},A={},v="",M="",f="",h=2,p=3,l=2,u=[],e=0,a=0,o;for(o=0;o<t.length;o+=1)if(v=t.charAt(o),Object.prototype.hasOwnProperty.call(d,v)||(d[v]=p++,A[v]=!0),M=f+v,Object.prototype.hasOwnProperty.call(d,M))f=M;else{if(Object.prototype.hasOwnProperty.call(A,f)){if(f.charCodeAt(0)<256){for(r=0;r<l;r++)e=e<<1,a==n-1?(a=0,u.push(s(e)),e=0):a++;for(i=f.charCodeAt(0),r=0;r<8;r++)e=e<<1|i&1,a==n-1?(a=0,u.push(s(e)),e=0):a++,i=i>>1}else{for(i=1,r=0;r<l;r++)e=e<<1|i,a==n-1?(a=0,u.push(s(e)),e=0):a++,i=0;for(i=f.charCodeAt(0),r=0;r<16;r++)e=e<<1|i&1,a==n-1?(a=0,u.push(s(e)),e=0):a++,i=i>>1}h--,h==0&&(h=Math.pow(2,l),l++),delete A[f]}else for(i=d[f],r=0;r<l;r++)e=e<<1|i&1,a==n-1?(a=0,u.push(s(e)),e=0):a++,i=i>>1;h--,h==0&&(h=Math.pow(2,l),l++),d[M]=p++,f=String(v)}if(f!==""){if(Object.prototype.hasOwnProperty.call(A,f)){if(f.charCodeAt(0)<256){for(r=0;r<l;r++)e=e<<1,a==n-1?(a=0,u.push(s(e)),e=0):a++;for(i=f.charCodeAt(0),r=0;r<8;r++)e=e<<1|i&1,a==n-1?(a=0,u.push(s(e)),e=0):a++,i=i>>1}else{for(i=1,r=0;r<l;r++)e=e<<1|i,a==n-1?(a=0,u.push(s(e)),e=0):a++,i=0;for(i=f.charCodeAt(0),r=0;r<16;r++)e=e<<1|i&1,a==n-1?(a=0,u.push(s(e)),e=0):a++,i=i>>1}h--,h==0&&(h=Math.pow(2,l),l++),delete A[f]}else for(i=d[f],r=0;r<l;r++)e=e<<1|i&1,a==n-1?(a=0,u.push(s(e)),e=0):a++,i=i>>1;h--,h==0&&(h=Math.pow(2,l),l++)}for(i=2,r=0;r<l;r++)e=e<<1|i&1,a==n-1?(a=0,u.push(s(e)),e=0):a++,i=i>>1;for(;;)if(e=e<<1,a==n-1){u.push(s(e));break}else a++;return u.join("")},decompress:function(t){return t==null?"":t==""?null:g._decompress(t.length,32768,function(n){return t.charCodeAt(n)})},_decompress:function(t,n,s){var r=[],i=4,d=4,A=3,v="",M=[],f,h,p,l,u,e,a,o={val:s(0),position:n,index:1};for(f=0;f<3;f+=1)r[f]=f;for(p=0,u=Math.pow(2,2),e=1;e!=u;)l=o.val&o.position,o.position>>=1,o.position==0&&(o.position=n,o.val=s(o.index++)),p|=(l>0?1:0)*e,e<<=1;switch(p){case 0:for(p=0,u=Math.pow(2,8),e=1;e!=u;)l=o.val&o.position,o.position>>=1,o.position==0&&(o.position=n,o.val=s(o.index++)),p|=(l>0?1:0)*e,e<<=1;a=w(p);break;case 1:for(p=0,u=Math.pow(2,16),e=1;e!=u;)l=o.val&o.position,o.position>>=1,o.position==0&&(o.position=n,o.val=s(o.index++)),p|=(l>0?1:0)*e,e<<=1;a=w(p);break;case 2:return""}for(r[3]=a,h=a,M.push(a);;){if(o.index>t)return"";for(p=0,u=Math.pow(2,A),e=1;e!=u;)l=o.val&o.position,o.position>>=1,o.position==0&&(o.position=n,o.val=s(o.index++)),p|=(l>0?1:0)*e,e<<=1;switch(a=p){case 0:for(p=0,u=Math.pow(2,8),e=1;e!=u;)l=o.val&o.position,o.position>>=1,o.position==0&&(o.position=n,o.val=s(o.index++)),p|=(l>0?1:0)*e,e<<=1;r[d++]=w(p),a=d-1,i--;break;case 1:for(p=0,u=Math.pow(2,16),e=1;e!=u;)l=o.val&o.position,o.position>>=1,o.position==0&&(o.position=n,o.val=s(o.index++)),p|=(l>0?1:0)*e,e<<=1;r[d++]=w(p),a=d-1,i--;break;case 2:return M.join("")}if(i==0&&(i=Math.pow(2,A),A++),r[a])v=r[a];else if(a===d)v=h+h.charAt(0);else return null;M.push(v),r[d++]=h+v.charAt(0),i--,h=v,i==0&&(i=Math.pow(2,A),A++)}}};return g}();z!=null?z.exports=c:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return c})})(U);var fe=U.exports;const V=se(fe),pe={class:"relative slidev-monaco-container"},he=J({__name:"Monaco",props:{codeLz:{default:""},diffLz:{},lang:{default:"typescript"},readonly:{type:Boolean,default:!1},lineNumbers:{default:"off"},height:{default:"initial"},editorOptions:{},ata:{type:Boolean,default:!0},runnable:{type:Boolean,default:!1},writable:{},autorun:{type:[Boolean,String],default:!0},showOutputAt:{type:[null,Boolean,String,Number,Array]},outputHeight:{},highlightOutput:{type:Boolean,default:!0},runnerOptions:{}},setup(z){const c=z,w=ne(()=>j(()=>import("./slidev/CodeRunner-bxMXCgAx.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12])).then(l=>l.default)),y=b(V.decompressFromBase64(c.codeLz).trimEnd()),S=c.diffLz&&b(V.decompressFromBase64(c.diffLz).trimEnd()),B=Z(()=>c.writable&&!c.readonly&&!1),g={ts:"typescript",js:"javascript"}[c.lang]??c.lang,n={typescript:"mts",javascript:"mjs",ts:"mts",js:"mjs"}[c.lang]??c.lang,s=b(),r=b(),i=b(0),d=b(),A=Z(()=>c.height==="auto"?`${i.value}px`:c.height==="initial"?`${d.value}px`:c.height),v=b(),{$page:M,$renderContext:f}=I(),{currentSlideNo:h}=le(),p=P(()=>Math.abs(M.value-h.value)<=1&&v.value,l=>{["slide","presenter"].includes(f.value)?l():setTimeout(l,5e3)});return X(async()=>{const{default:l}=await j(async()=>{const{default:m}=await import("./monaco/bundled-types-CIvZD0aP.js").then(C=>C.v);return{default:m}},__vite__mapDeps([3,2,4,5])),{ata:u,monaco:e,editorOptions:a}=await l(),o=e.editor.createModel(y.value,g,e.Uri.parse(`file:///${G()}.${n}`));o.onDidChangeContent(()=>y.value=o.getValue());const N={automaticLayout:!0,readOnly:c.readonly,lineNumbers:c.lineNumbers,minimap:{enabled:!1},overviewRulerBorder:!1,overviewRulerLanes:0,padding:{top:10,bottom:10},lineNumbersMinChars:3,bracketPairColorization:{enabled:!1},tabSize:2,fontSize:11.5,fontFamily:"var(--slidev-code-font-family)",scrollBeyondLastLine:!1,...a,...c.editorOptions};let _;if(S){const m=e.editor.createModel(S.value,g,e.Uri.parse(`file:///${G()}.${n}`));m.onDidChangeContent(()=>y.value=o.getValue());const C=e.editor.createDiffEditor(r.value,{renderOverviewRuler:!1,...N});C.setModel({original:o,modified:m});const E=C.getOriginalEditor(),D=C.getModifiedEditor(),W=()=>{const K=Math.max(E.getContentHeight(),D.getContentHeight())+4;d.value??(d.value=K),i.value=K,R(()=>C.layout())};E.onDidContentSizeChange(W),D.onDidContentSizeChange(W),_=D}else{const m=e.editor.create(r.value,{model:o,lineDecorationsWidth:0,...N});m.onDidContentSizeChange(C=>{const E=C.contentHeight+4;d.value??(d.value=E),i.value=E,R(()=>_.layout())}),_=m}v.value=()=>{p(),j(()=>import("./monaco/bundled-types-CIvZD0aP.js").then(m=>m.w),__vite__mapDeps([3,2,4,5])),c.ata&&(u(_.getValue()),_.onDidChangeModelContent(F(1e3,()=>{u(_.getValue())})))};const q=_.layoutContentWidget.bind(_);_.layoutContentWidget=m=>{q(m),m.getId()==="editor.contrib.resizableContentHoverWidget"&&(m._resizableNode.domNode.style.transform=m._positionPreference===1?"translateY(calc(100% * (var(--slidev-slide-scale) - 1)))":"")},_.addAction({id:"slidev-save",label:"Save",keybindings:[e.KeyMod.CtrlCmd|e.KeyCode.KeyS],run:()=>{B.value,console.warn("[Slidev] this monaco editor is not writable, save action is ignored.")}}),R(()=>e.editor.remeasureFonts())}),(l,u)=>(T(),ee("div",pe,[x("div",{ref_key:"outer",ref:s,class:"relative slidev-monaco-container-inner",style:te({height:A.value})},[x("div",{ref_key:"container",ref:r,class:"absolute inset-0.5"},null,512)],4),c.runnable?(T(),$(O(w),{key:0,modelValue:y.value,"onUpdate:modelValue":u[0]||(u[0]=e=>y.value=e),lang:O(g),autorun:c.autorun,"show-output-at":c.showOutputAt,height:c.outputHeight,"highlight-output":c.highlightOutput,"runner-options":c.runnerOptions},null,8,["modelValue","lang","autorun","show-output-at","height","highlight-output","runner-options"])):oe("v-if",!0)]))}}),ge=x("h1",null,"Monaco Editor",-1),ve=x("p",null,"Slidev provides built-in Monaco Editor support.",-1),me=x("p",null,[k("Add "),x("code",null,"{monaco}"),k(" to the code block to turn it into an editor:")],-1),Ae=x("p",null,[k("Use "),x("code",null,"{monaco-run}"),k(" to create an editor that can execute the code directly in the slide:")],-1),Be={__name:"31",setup(z){return ue(Q),I(),(c,w)=>{const y=he;return T(),$(de,ie(ae(O(ce)(O(Q),30))),{default:re(()=>[ge,ve,me,Y(y,H({"code-lz":"JYWwDg9gTgLgBAbzlApgMzgXzmqERwDkAbgK4qEBQoksicK4MAngIJRQCGzWOeBhAHQB6FAA8YKKADtOAGyqUAxhGkBneJw5wAvMnQAKRmBbsuzAwEYADAEpblIA",lang:"ts"},{}),null,16),Ae,Y(y,H({runnable:"","code-lz":"JYWwDg9gTgLgBAbzgNwKZQM7AgOzgXzgDMoIQ4ByZAV1QoChRJZE5VwYBPAQSigENOAGjgZBACVQAbKRALFS5CgDoA9KgAeMdDn5SG9MZ0kyIACgCU9AMa4MEKamWyA5mYAGNVHAAkCNJjYOPjuVrY49o7OEG7sYFy8ApwAPDjUIABG6AB8ZgCMAAwWylCoACbU1qhmRMAZcAC82XAA2srttRkincr8MGYAtHkWAIRwANTEdb39AwBMowC6Ii15InmLFlZAA",lang:"ts"},{}),null,16)]),_:1},16)}}};export{Be as default};
